# ポリゴンの裏(うら)と表(おもて)


![](exp001.png)

Cubeを表示(ひょうじ)すると、Aのように表示(ひょうじ)されたと思(おも)います。
Bのように、裏側(うらがわ)が透(す)けないように表示(ひょうじ)するにはどうすれば良(よ)いでしょうか。



色々(いろいろ)な方法(ほうほう)があります。ここでは法線(ほうせん)を利用(りよう)する方法(ほうほう)を紹介(しょうかい)します。


<br>
<br>

### Polygonは裏(うら)と表(おもて)を持(も)っている。

![](exp02a.png)

Ploygonには、裏(うら)と表(おもて)があります。表面(おもてめん)は画面(がめん)に表示(ひょうじ)されますが、裏面(うらめん)は画面(がめん)に表示(ひょうじ)されません。


上図(じょうず)のように、反時計回(はんとけいまわ)りが表(おもて)。　時計周(とけいまわ)りが裏(うら)です。

<br>
![](exp02b.png)

面倒(めんどう)ですね。Polygonで図形(づけい)を書(か)くときは、常(つね)に意識(いしき)しないといけません。

気(き)を抜(ぬ)くと、上(うえ)のように透(す)けてしまします。

<br>
<br>

### (1) 上手く使えば、裏側が透けない立方体をかける。

![](exp002.png)

 上図のAのように、渦が「反時計回り」に見えているものが、180度回転すると、上図のCのように「時計回りに」に見えます。つまり、180度回転すると表示されなくなります。


![](exp02c.png)

例えば、上図のようにすると、いくら回転しても裏側が透けて見えないCubeを書くことができます。


<br>
<br>

### 右回りか、左回りかの判定方法

右回りか、左回りかの判定をする機能をついかする必要があります。

この判定には、以下の数式が使われること多いです。


$$\left(
  \begin{array}{ccc}
  x_{1} & y_{1} & z_{1}\\
  \end{array}
\right)\\$$,　$$\left(
  \begin{array}{ccc}
  x_{2} & y_{2} & z_{2}\\
  \end{array}
\right)\\$$,　$$\left(
  \begin{array}{ccc}
  x_{3} & y_{3} & z_{3}\\
  \end{array}
\right)\\$$ の三点を通る三角形の場合
$$v = \left(x_{2}-x_{1}\right) \times \left(y_{3}-y_{2}\right)
- \left(y_{2}-y_{1}\right)\times\left(x_{3}-x_{2}\right)
$$

で、$$v$$ が、0よりも大きい場合は「表」、小さい場合は「裏」と判断できます。



<br>
<br>

## (B) Scratchで実装する

### (1) 裏表を判定するスクリプトを追加する
![](zs01.png)

<br>
<br>
### (2) ポリゴンを描画時に、裏表判定を使用するようにする
![](zs02.png)


<br>
<br>

### (3) 確認する

https://scratch.mit.edu/projects/88197759/

![](zc01.png)


### (4) Good!

![](../good.png)

よくできました。次(つぎ)のステップに進(すす)みましょう。

